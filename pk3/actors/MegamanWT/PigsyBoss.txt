actor PigsyBoss : BaseMM8BDMWep_CBM
{
tag "$TAGC_WTC"
dropitem "HyperStormHWepCDropped"
Weapon.AmmoUse 0
Weapon.AmmoGive 50
Obituary "$OB_HSHHOTAIR"
Inventory.Pickupmessage "Time to bring home the bacon!"
weapon.ammotype "BaconAmmo"
weapon.ammotype2 "HyperStormHeat"
inventory.icon "HSHISUCK"
States
{
Spawn:
C_WT C 1
loop
//HSHH S 1
Ready:
HSHG A 0 ACS_ExecuteAlways(998,0,DYE_HYPERSTORMH)
goto Ready1
Ready1:
HSHG A 0 A_JumpIfInventory("HyperStormHeat",1,"Ready2")
HSHG A 0 A_JumpIfInventory("HyperStormCold",1,"Ready2")
HSHG A 1 A_WeaponReady(8)
wait
Ready2:
HSHG A 1 A_WeaponReady
wait
Deselect:
HSHG AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
HSHG A 1 A_Lower
Loop
Select:
HSHG AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
HSHG A 1 A_Raise
Loop

Fire:
HSHG B 3
HSHG C 3 A_GiveInventory("HSHSuckDelay",1)
SuckingReFire:
HSHG D 2 A_GiveInventory("HSH_SuckingCheck_P")
HSHG D 0 A_Refire("SuckingReFire")
HSHG CB 3 A_StopSound(1)
goto Ready1

AltFire:
HSHG A 0 A_JumpIfInventory("HyperStormHeat",1,"AltHot")
HSHG A 0 A_JumpIfInventory("HyperStormCold",1,"AltCold")
Goto Ready1
AltHot:
HSHG C 2 A_GiveInventory("HSH_AltHotThrust_P")
HSHG C 0 A_JumpIfInventory("HyperStormHeat",1,"AltHotFire")
goto AltHotEnd
AltHotFire:
HSHG C 0 A_Refire("AltHot")
goto AltHotEnd
AltHotEnd:
HSHG CB 3
goto Ready1

AltCold:
HSHG B 0 ACS_ExecuteAlways(CORE_ACS_191,0,APROP_JumpZ,7,1)//Half jump
//HSHG B 0 SetPlayerProperty(0,1,0)

HSHG B 0 A_GiveInventory("HSHDashFlagX",1)
HSHG B 0 A_GiveInventory("HSHDashFlag",1)
HSHG B 0 A_TakeInventory("HSHDashPower",9999)

HSHG B 4 A_Quake(2,5,0,256)
HSHG B 0 A_SpawnItemEx("HSH_DashExplodeStart",0,0,28,momx,momy,momz,0,9,0)
HSHG B 4 A_PlaySound("weapon/HSHRunning",4,1.0)
HSHG G 4 A_Quake(2,5,0,256)
HSHG G 0 A_SpawnItemEx("HSH_DashExplodeStart",0,0,28,momx,momy,momz,0,9,0)
HSHG H 4 A_PlaySound("weapon/HSHRunning",4,1.0)
HSHG G 4 A_Quake(2,5,0,256)
HSHG G 0 A_SpawnItemEx("HSH_DashExplodeStart",0,0,28,momx,momy,momz,0,9,0)
HSHG F 4 A_PlaySound("weapon/HSHRunning",4,1.0)
HSHG G 4 A_Quake(2,5,0,256)
HSHG G 0 A_SetUserVar("user_wepangle",angle)
HSHG G 0 A_GunFlash

goto GottaHeatUp1
GottaHeatUp1:
HSHG G 0 A_GiveInventory("HSHDashFlag",1)
HSHG G 1 A_GiveInventory("HSHColdTake_RC",1)
HSHG G 0 A_ReFire("GottaHeatUp1C")
goto AltColdEndC
GottaHeatUp1C:
HSHG G 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp2")
goto AltColdEndC
GottaHeatUp2:
HSHG H 0
HSHG H 1 A_GiveInventory("HSHColdTake_RC",1)
HSHG H 0 A_ReFire("GottaHeatUp2C")
goto AltColdEndR
GottaHeatUp2C:
HSHG H 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp3")
goto AltColdEndR
GottaHeatUp3:
HSHG I 0 A_GiveInventory("HSHDashFlag",1)
HSHG I 1 A_GiveInventory("HSHColdTake_RC",1)
HSHG I 0 A_ReFire("GottaHeatUp3C")
goto AltColdEndR
GottaHeatUp3C:
HSHG I 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp4")
goto AltColdEndR
GottaHeatUp4:
HSHG H 0
HSHG H 1 A_GiveInventory("HSHColdTake_RC",1)
HSHG H 0 A_ReFire("GottaHeatUp4C")
goto AltColdEndR
GottaHeatUp4C:
HSHG H 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp5")
goto AltColdEndR
GottaHeatUp5:
HSHG G 0 A_GiveInventory("HSHDashFlag",1)
HSHG G 1 A_GiveInventory("HSHColdTake_RC",1)
HSHG G 0 A_ReFire("GottaHeatUp5C")
goto AltColdEndC
GottaHeatUp5C:
HSHG G 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp6")
goto AltColdEndC
GottaHeatUp6:
HSHG F 0
HSHG F 1 A_GiveInventory("HSHColdTake_RC",1)
HSHG F 0 A_ReFire("GottaHeatUp6C")
goto AltColdEndL
GottaHeatUp6C:
HSHG F 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp7")
goto AltColdEndL
GottaHeatUp7:
HSHG E 0 A_GiveInventory("HSHDashFlag",1)
HSHG E 1 A_GiveInventory("HSHColdTake_RC",1)
HSHG E 0 A_ReFire("GottaHeatUp7C")
goto AltColdEndL
GottaHeatUp7C:
HSHG E 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp8")
goto AltColdEndL
GottaHeatUp8:
HSHG F 0
HSHG F 1 A_GiveInventory("HSHColdTake_RC",1)
HSHG F 0 A_ReFire("GottaHeatUp8C")
goto AltColdEndL
GottaHeatUp8C:
HSHG F 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp1")
goto AltColdEndL

AltColdEndC:
HSHG A 0 A_TakeInventory("HSHDashFlagX",99)
HSHG A 0 A_TakeInventory("HSHDashFlag",99)
//HSHG A 0 SetPlayerProperty(0,0,0)
HSHG A 0 ACS_ExecuteAlways(CORE_ACS_191,0,APROP_JumpZ,10,1)//Gain Jump
HSHG GBA 2
goto Ready1
AltColdEndR:
HSHG A 0 A_TakeInventory("HSHDashFlagX",99)
HSHG A 0 A_TakeInventory("HSHDashFlag",99)
//HSHG A 0 SetPlayerProperty(0,0,0)
HSHG A 0 ACS_ExecuteAlways(CORE_ACS_191,0,APROP_JumpZ,10,1)
HSHG HGB 2
goto Ready1
AltColdEndL:
HSHG A 0 A_TakeInventory("HSHDashFlagX",99)
HSHG A 0 A_TakeInventory("HSHDashFlag",99)
//HSHG A 0 SetPlayerProperty(0,0,0)
HSHG A 0 ACS_ExecuteAlways(CORE_ACS_191,0,APROP_JumpZ,10,1)
HSHG FGB 2
goto Ready1

Flash:
TNT1 A 0 A_SpawnItemEx("HSH_DashExplode",0,0,28,momx,momy,momz,0,9,0)
TNT1 A 0 A_Quake(2,4,0,256)
TNT1 A 0 A_PlaySound("weapon/HSHRunning",4,1.0)
TNT1 A 0 A_GiveInventory("HSHDashPower",1)

TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,5)
TNT1 A 1 A_GiveInventory("HSHThrust3",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust4",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust3",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust4",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,5)
TNT1 A 1 A_GiveInventory("HSHThrust3",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust4",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust3",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust4",1)

TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,"Flash")
stop
}
}

actor PiggyBoss : BaseMM8BDMWep_CBM
{
tag "$TAGC_WTC2"
dropitem "HyperStormHWepCDropped"
Weapon.AmmoUse 0
Weapon.AmmoGive 50
Inventory.Pickupmessage "Damn, look at that bacon sizzle!"
Obituary "$OB_HSHCOLDRAM"
weapon.ammotype "SizzleAmmo"
weapon.ammotype2 "HyperStormCold"
inventory.icon "HSHIBLOW"
States
{
Spawn:
C_WT C 1
loop

Ready:
HSHH A 0 ACS_ExecuteAlways(998,0,DYE_HYPERSTORMH)
goto Ready1
Ready1:
HSHH A 0 A_JumpIfInventory("HyperStormHeat",1,"Ready2")
HSHH A 0 A_JumpIfInventory("HyperStormCold",1,"Ready2")
HSHH A 1 A_WeaponReady(8)
wait
Ready2:
HSHH A 1 A_WeaponReady
wait
Deselect:
HSHH AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
HSHH A 1 A_Lower
Loop
Select:
HSHH AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
HSHH A 1 A_Raise
Loop

Fire:
HSHH B 3
HSHH C 3 A_GiveInventory("HSHBlowDelay",1)
BlowingReFire:
HSHH D 2 A_GiveInventory("HSH_BlowingCheck_P")
HSHH D 0 A_Refire("BlowingReFire")
HSHH CB 3 A_StopSound(1)
goto Ready1

AltFire:
HSHH A 0 A_JumpIfInventory("HyperStormHeat",1,"AltHot")
HSHH A 0 A_JumpIfInventory("HyperStormCold",1,"AltCold")
Goto Ready1
AltHot:
HSHH C 2 A_GiveInventory("HSH_AltHotThrust_P")
HSHH C 0 A_JumpIfInventory("HyperStormHeat",1,"AltHotFire")
goto AltHotEnd
AltHotFire:
HSHH C 0 A_Refire("AltHot")
goto AltHotEnd
AltHotEnd:
HSHH CB 3
goto Ready1

AltCold:
HSHH B 0 ACS_ExecuteAlways(CORE_ACS_191,0,APROP_JumpZ,7,1)//Half jump
//HSHH B 0 SetPlayerProperty(0,1,0)

HSHH B 0 A_GiveInventory("HSHDashFlagX",1)
HSHH B 0 A_GiveInventory("HSHDashFlag",1)
HSHH B 0 A_TakeInventory("HSHDashPower",9999)

HSHH B 4 A_Quake(2,5,0,256)
HSHH B 0 A_SpawnItemEx("HSH_DashExplodeStart",0,0,28,momx,momy,momz,0,9,0)
HSHH B 4 A_PlaySound("weapon/HSHRunning",4,1.0)
HSHH G 4 A_Quake(2,5,0,256)
HSHH G 0 A_SpawnItemEx("HSH_DashExplodeStart",0,0,28,momx,momy,momz,0,9,0)
HSHH H 4 A_PlaySound("weapon/HSHRunning",4,1.0)
HSHH G 4 A_Quake(2,5,0,256)
HSHH G 0 A_SpawnItemEx("HSH_DashExplodeStart",0,0,28,momx,momy,momz,0,9,0)
HSHH F 4 A_PlaySound("weapon/HSHRunning",4,1.0)
HSHH G 4 A_Quake(2,5,0,256)
HSHH G 0 A_SetUserVar("user_wepangle", angle)
HSHH G 0 A_GunFlash

goto GottaHeatUp1
GottaHeatUp1:
HSHH G 0 A_GiveInventory("HSHDashFlag",1)
HSHH G 1 A_GiveInventory("HSHColdTake_RC",1)
HSHH G 0 A_ReFire("GottaHeatUp1C")
goto AltColdEndC
GottaHeatUp1C:
HSHH G 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp2")
goto AltColdEndC
GottaHeatUp2:
HSHH H 0
HSHH H 1 A_GiveInventory("HSHColdTake_RC",1)
HSHH H 0 A_ReFire("GottaHeatUp2C")
goto AltColdEndR
GottaHeatUp2C:
HSHH H 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp3")
goto AltColdEndR
GottaHeatUp3:
HSHH I 0 A_GiveInventory("HSHDashFlag",1)
HSHH I 1 A_GiveInventory("HSHColdTake_RC",1)
HSHH I 0 A_ReFire("GottaHeatUp3C")
goto AltColdEndR
GottaHeatUp3C:
HSHH I 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp4")
goto AltColdEndR
GottaHeatUp4:
HSHH H 0
HSHH H 1 A_GiveInventory("HSHColdTake_RC",1)
HSHH H 0 A_ReFire("GottaHeatUp4C")
goto AltColdEndR
GottaHeatUp4C:
HSHH H 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp5")
goto AltColdEndR
GottaHeatUp5:
HSHH G 0 A_GiveInventory("HSHDashFlag",1)
HSHH G 1 A_GiveInventory("HSHColdTake_RC",1)
HSHH G 0 A_ReFire("GottaHeatUp5C")
goto AltColdEndC
GottaHeatUp5C:
HSHH G 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp6")
goto AltColdEndC
GottaHeatUp6:
HSHH F 0
HSHH F 1 A_GiveInventory("HSHColdTake_RC",1)
HSHH F 0 A_ReFire("GottaHeatUp6C")
goto AltColdEndL
GottaHeatUp6C:
HSHH F 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp7")
goto AltColdEndL
GottaHeatUp7:
HSHH E 0 A_GiveInventory("HSHDashFlag",1)
HSHH E 1 A_GiveInventory("HSHColdTake_RC",1)
HSHH E 0 A_ReFire("GottaHeatUp7C")
goto AltColdEndL
GottaHeatUp7C:
HSHH E 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp8")
goto AltColdEndL
GottaHeatUp8:
HSHH F 0
HSHH F 1 A_GiveInventory("HSHColdTake_RC",1)
HSHH F 0 A_ReFire("GottaHeatUp8C")
goto AltColdEndL
GottaHeatUp8C:
HSHH F 0 A_JumpIfInventory("HyperStormCold",1,"GottaHeatUp1")
goto AltColdEndL

AltColdEndC:
HSHH A 0 A_TakeInventory("HSHDashFlagX",99)
HSHH A 0 A_TakeInventory("HSHDashFlag",99)
//HSHH A 0 SetPlayerProperty(0,0,0)
HSHH A 0 ACS_ExecuteAlways(CORE_ACS_191,0,APROP_JumpZ,10,1)//Gain Jump
HSHH GBA 2
goto Ready1
AltColdEndR:
HSHH A 0 A_TakeInventory("HSHDashFlagX",99)
HSHH A 0 A_TakeInventory("HSHDashFlag",99)
//HSHH A 0 SetPlayerProperty(0,0,0)
HSHH A 0 ACS_ExecuteAlways(CORE_ACS_191,0,APROP_JumpZ,10,1)
HSHH HGB 2
goto Ready1
AltColdEndL:
HSHH A 0 A_TakeInventory("HSHDashFlagX",99)
HSHH A 0 A_TakeInventory("HSHDashFlag",99)
//HSHH A 0 SetPlayerProperty(0,0,0)
HSHH A 0 ACS_ExecuteAlways(CORE_ACS_191,0,APROP_JumpZ,10,1)
HSHH FGB 2
goto Ready1

Flash:
TNT1 A 0 A_SpawnItemEx("HSH_DashExplode",0,0,28,momx,momy,momz,0,9,0)
TNT1 A 0 A_Quake(2,4,0,256)
TNT1 A 0 A_PlaySound("weapon/HSHRunning",4,1.0)
TNT1 A 0 A_GiveInventory("HSHDashPower",1)

TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,5)
TNT1 A 1 A_GiveInventory("HSHThrust3",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust4",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust3",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust4",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,5)
TNT1 A 1 A_GiveInventory("HSHThrust3",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust4",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust3",1)
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,1)
stop
TNT1 A 1 A_GiveInventory("HSHThrust4",1)

TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("HSHDashFlagX",1,"Flash")
stop
}
}

actor BaconAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 30
+INVENTORY.IGNORESKILL
}

actor SizzleAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 30
+INVENTORY.IGNORESKILL
}

actor HyperStormHeat : Ammo
{
inventory.amount 1
inventory.maxamount 200
+INVENTORY.IGNORESKILL
}
actor HyperStormCold : Ammo
{
inventory.amount 1
inventory.maxamount 200
+INVENTORY.IGNORESKILL
}

actor HSHSoundDelay : Powerup
{
Powerup.Duration 24
}
actor HSHSuckDelay : Powerup
{
+INVENTORY.ADDITIVETIME
Powerup.Duration 5
}
actor HSHBlowDelay : Powerup
{
+INVENTORY.ADDITIVETIME
Powerup.Duration 10
}

actor HSHDashFlagX : Inventory
{
Inventory.amount 1
Inventory.maxamount 3
}
actor HSHDashFlag : Inventory
{
Inventory.amount 1
Inventory.maxamount 5
}

actor HSHDashPower : Inventory
{
Inventory.amount 1
Inventory.maxamount 9999
}

actor HSH_SuckingCheck_P : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_JumpIfInventory("HyperStormCold",1,"SuckCold")
TNT1 A 0 A_JumpIfInventory("HyperStormHeat",200,"SuckingWeak")
Goto Sucking
SuckCold:
TNT1 AAAA 0 A_FireCustomMissile("HSHParticleSuck_H3",random(-15,15),0,random(-10,10),random(-10,10),0,random(-10,10))
TNT1 A 0 A_TakeInventory("HyperStormCold",2)
TNT1 A 0 A_FireCustomMissile("HyperStormH_Puller_H3",0,0)
goto SuckingSnd
Sucking:
TNT1 AAAA 0 A_FireCustomMissile("HSHParticleSuck_H1",random(-15,15),0,random(-10,10),random(-10,10),0,random(-10,10))
TNT1 A 0 A_GiveInventory("HyperStormHeat",2)
TNT1 A 0 A_FireCustomMissile("HyperStormH_Puller_H2",0,0)
goto SuckingSnd
SuckingWeak:
TNT1 A 0 A_FireCustomMissile("HSHParticleSuck_H1",random(-15,15),0,random(-10,10),random(-10,10),0,random(-10,10))
TNT1 A 0 A_GiveInventory("HyperStormHeat",2)
TNT1 A 0 A_FireCustomMissile("HyperStormH_Puller_H1",0,0)
goto SuckingSnd

SuckingSnd:
TNT1 A 0 A_JumpIfInventory("HSHSoundDelay",1,3)
TNT1 A 0 A_PlaySound("weapon/HSHSuckBlow",1,1.0)
TNT1 A 0 A_GiveInventory("HSHSoundDelay",1)
TNT1 A 0 A_JumpIfInventory("HSHSuckDelay",1,"SuckingEnd")
TNT1 A 0 A_FireCustomMissile("HSH_SuckExplode",0,0)
TNT1 A 0 A_GiveInventory("HSHSuckDelay_RC",1)
stop
SuckingEnd:
TNT1 A 0
stop
}
}

actor HSH_BlowingCheck_P : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_JumpIfInventory("HyperStormHeat",1,"BlowHeat")
TNT1 A 0 A_JumpIfInventory("HyperStormCold",200,"BlowingWeak")
Goto Blowing
BlowHeat:
TNT1 A 0 A_SpawnItemEx("HSHParticleBlow_H3",cos(-pitch)*4,0,32+sin(-pitch)*4,cos(-pitch)*1,0,sin(-pitch)*1,0,32)
TNT1 A 0 A_TakeInventory("HyperStormHeat",2)
TNT1 A 0 A_FireCustomMissile("HyperStormH_Pusher_H3",0,0)
goto BlowingSnd
Blowing:
TNT1 A 0 A_SpawnItemEx("HSHParticleBlow_H2",cos(-pitch)*4,0,32+sin(-pitch)*4,cos(-pitch)*1,0,sin(-pitch)*1,0,32)
TNT1 A 0 A_GiveInventory("HyperStormCold",2)
TNT1 A 0 A_FireCustomMissile("HyperStormH_Pusher_H2",0,0)
goto BlowingSnd
BlowingWeak:
TNT1 A 0 A_SpawnItemEx("HSHParticleBlow_H1",cos(-pitch)*4,0,32+sin(-pitch)*4,cos(-pitch)*1,0,sin(-pitch)*1,0,32)
TNT1 A 0 A_GiveInventory("HyperStormCold",2)
TNT1 A 0 A_FireCustomMissile("HyperStormH_Pusher_H1",0,0)
goto BlowingSnd

BlowingSnd:
TNT1 A 0 A_JumpIfInventory("HSHSoundDelay",1,3)
TNT1 A 0 A_PlaySound("weapon/HSHSuckBlow",1,1.0)
TNT1 A 0 A_GiveInventory("HSHSoundDelay",1)
TNT1 A 0 A_JumpIfInventory("HSHBlowDelay",1,"BlowingEnd")
TNT1 A 0 A_GiveInventory("HSHBlowDelay_RC",1)
TNT1 A 0 A_JumpIfInventory("HyperStormHeat",1,"BlowingPew2")
TNT1 A 0 A_PlaySound("weapon/HSHPew",4,1.0)
TNT1 A 0 A_GiveInventory("HyperStormHMain_CI",1)
stop
BlowingPew2:
TNT1 A 0 A_PlaySound("weapon/FlameBall",4,1.0)
TNT1 A 0 A_GiveInventory("HyperStormHMain2_CI",1)
stop
BlowingEnd:
TNT1 A 0
stop
}
}

actor HSHColdTake_RC : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,"PickupR")
TNT1 A 0 A_TakeInventory("HyperStormCold",1,1)
stop
PickupR:
TNT1 A 0 A_TakeInventory("HyperStormCold",2,1)
stop
}
}

actor HSHBlowDelay_RC : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,"PickupR")
TNT1 A 0 A_GiveInventory("HSHBlowDelay",1)
goto PickupR
PickupR:
TNT1 A 0 A_GiveInventory("HSHBlowDelay",1)
stop
}
}
actor HSHSuckDelay_RC : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,"PickupR")
TNT1 A 0 A_GiveInventory("HSHSuckDelay",1)
goto PickupR
PickupR:
TNT1 A 0 A_GiveInventory("HSHSuckDelay",1)
stop
}
}

actor HSH_AltHotThrust_P : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_TakeInventory("HyperStormHeat",6,1)
TNT1 A 0 A_FireCustomMissile("HSHExplodeHeat",0,0,0,-24)
TNT1 A 0 A_Recoil(-1)
TNT1 A 0 A_PlaySoundEX("weapon/superboost","Weapon")
TNT1 AAAAA 0 A_SpawnItemEx("HSHHeatThrustFX",random(-10,-6),random(-16,16),random(28,36),random(-8,4),random(-8,8),random(-8,3),0,129) 
TNT1 A 0 A_SpawnItemEX("HSHBoosterFX",-8,-16,32,0,0,0,0,1)
TNT1 A 0 A_SpawnItemEX("HSHBoosterFX",-8,16,32,0,0,0,0,1)

TNT1 A 0 A_JumpIfInventory("FlightDisableFlag",1,5)
TNT1 A 0 A_JumpIfInventory("IsUnderWater",1,3)
TNT1 A 0 A_JumpIf(momz>=0,2)
TNT1 A 0 ThrustThingZ(0,0,0,0)
TNT1 A 0 ThrustThingZ(0,6,0,1)
TNT1 A 0
stop
}
}

actor HSHBullet
{
Translation "204:204=215:215"
PROJECTILE
DamageType "HSH_Shot"
Obituary "$OB_HSHBULLET"
Damage (130)//150
Radius 15
Height 15
speed 39//38
scale 3.0
States
{
Spawn:
W_0D B 0
W_0D B -1
stop
}
}

actor HSHBulletB : HSHBullet{translation "204:204=205:205"}
actor HSHBulletR : HSHBullet{translation "204:204=171:171"}
actor HSHBulletO : HSHBullet{translation "204:204=104:104"}
actor HSHBulletP : HSHBullet{translation "204:204=229:229"}


actor HSHBulletHeat
{
translation "202:202=229:229", "199:199=227:227"
PROJECTILE
DamageType "HSH_ShotHot"
Obituary "$OB_HSHHOTBULLET"
Damage (180)//200
Radius 16
Height 16
speed 47//46
scale 2.0
States
{
Spawn:
Y_1E ABC 2
loop
Death:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("CBM_OilPitIgnite",0,0,8)
stop
}
}

actor HSHBulletHeatB : HSHBulletHeat{translation "202:202=205:205", "199:199=74:74"}
actor HSHBulletHeatR : HSHBulletHeat{translation "202:202=171:171", "199:199=41:41"}
actor HSHBulletHeatO : HSHBulletHeat{translation "202:202=104:104", "199:199=128:128"}
actor HSHBulletHeatP : HSHBulletHeat{translation "202:202=229:229", "199:199=232:232"}

actor HSH_SuckExplode// : BasicExplosion
{
DamageType "HSH_Drain"
Obituary "$OB_HSHCOLDSUCK"
+DROPOFF
-SOLID
+NOGRAVITY
+THRUACTORS
+THRUGHOST
+DONTBLAST
+DONTREFLECT
radius 2
height 2
Speed 42
States
{
Spawn:
TNT1 A 1
TNT1 A 0 A_Stop
TNT1 A 1 A_Explode(50,96,0,0,32)//10
stop
}
}

actor HSH_DashExplodeStart : BasicExplosion
{
DamageType "HSH_Wallop"
Obituary "$OB_HSHCOLDRAM"
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("HSH_DashDustFX",-5,0,-28,-3,0,0,0,1)
TNT1 A 1 A_Explode(100,112,0,0,32)
stop
}
}

actor HSH_DashExplode : HSH_DashExplodeStart
{
var int user_P;
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SetUserVar("user_P",CallACS("cbm_countinv_acs",306,2))
//A_Explode(user_P*0.65+10,user_P/3+112,0)
TNT1 A 0 A_SpawnItemEx("HSH_DashDustFX",-2,0,-28,-2,0,0,0,1)
TNT1 A 2 A_Explode(user_P*5+90,user_P*0.25+112,0,0,user_P*0.25+32)
stop
}
}

actor HSH_DashDustFX
{
+NOINTERACTION
+NOGRAVITY
+CLIENTSIDEONLY
Radius 4
Height 4
Scale 3.5
States
{
Spawn:
HSHH PQR 6
stop
}
}


actor HSHExplodeHeat : BasicExplosion
{
DamageType "HSH_Booster"
Obituary "$OB_HSHHOTAIR"
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_Explode(70,112,0,0,16)
TNT1 A 0 A_SetDamageType("Ignition")
TNT1 A 2 A_Explode(5,100,1,0,100)
stop
}
}

actor HSHBoosterFX
{
+MISSILE
+THRUACTORS
+CLIENTSIDEONLY
damage 0
Radius 2
Height 2
scale 2.5
States
{
Spawn:
VMFX IJK 1
XMFX D 1
stop
}
}

actor HSHHeatThrustFX
{
Translation "248:248=229:229", "41:41=227:227"
Scale 1.5
height 1
radius 1
-SOLID
+NOBLOCKMONST
+NOGRAVITY
+CLIENTSIDEONLY
+DONTBLAST
+NOINTERACTION
+NOTIMEFREEZE
States
{
Spawn:
Y_8C AAABBCCDD 2 A_Fadeout
stop
}
}

actor HyperStormH_Puller_H1 : BasicHelper
{
+NOBLOCKMAP
States
{
Spawn:
TNT1 A 0
TNT1 A 3 ACS_ExecuteWithResult(C_JAX_SUCKRECODE,625,11,-1,-1)
stop
}
}
actor HyperStormH_Puller_H2 : HyperStormH_Puller_H1
{
states
{
Spawn:
TNT1 A 0
TNT1 A 3 ACS_ExecuteWithResult(C_JAX_SUCKRECODE,625,11,-3,-1)
stop
}
}
actor HyperStormH_Puller_H3 : HyperStormH_Puller_H1
{
States
{
Spawn:
TNT1 A 0//Gives slowdown
TNT1 A 3 ACS_ExecuteWithResult(C_JAX_SUCKRECODE,625,11,-3,-4)
stop
}
}

actor HyperStormH_Pusher_H1 : BasicHelper
{
+NOBLOCKMAP
States
{
Spawn:
TNT1 A 0
TNT1 A 3 ACS_ExecuteWithResult(C_JAX_SUCKRECODE,625,22,1,-1)
stop
}
}
actor HyperStormH_Pusher_H2 : HyperStormH_Pusher_H1
{
States
{
Spawn:
TNT1 A 0
TNT1 A 3 ACS_ExecuteWithResult(C_JAX_SUCKRECODE,625,22,3,-1)
stop
}
}
actor HyperStormH_Pusher_H3 : HyperStormH_Pusher_H1
{
States
{
Spawn:
TNT1 A 0
TNT1 A 3 ACS_ExecuteWithResult(C_JAX_SUCKRECODE,625,22,4,-1)
stop
}
}

actor HSHParticleSuck_H1 : FastProjectile
{
PROJECTILE
+SKYEXPLODE
+EXPLODEONWATER
+DONTBLAST
+DONTREFLECT
+DONTSPLASH
RenderStyle None
Damage (0)
radius 8
height 8
Speed 500
States
{
Spawn:
TNT1 A 1
goto Death
Crash:
XDeath:
Death:
//TNT1 A 0 A_Stop
TNT1 A 0 A_CustomMissile("HSHParticleSuck",0,0,0,0)
stop
}
}

actor HSHParticleSuck_H3 : HSHParticleSuck_H1
{
States
{
Spawn:
TNT1 A 1
goto Death
Crash:
XDeath:
Death:
//TNT1 A 0 A_Stop
TNT1 A 0 A_CustomMissile("HSHParticleSuck2",0,0,0,0)
stop
}
}

actor HSHParticleSuck
{
translation "192:198=4:4"
PROJECTILE
+CLIENTSIDEONLY
+DONTBLAST
+DONTREFLECT
+DONTSPLASH
+THRUACTORS
Damage (0)
height 5
radius 5
Speed 37
Scale 1.5
States
{
Spawn:
TMFX DDDDDDDDDDDDDDD 1 A_JumpIfCloser(60,"Death")
stop
Death:
TNT1 A 0
stop
}
}

actor HSHParticleSuck2 : HSHParticleSuck
{
States
{
Spawn:
BLIZ AAAAABBBBBCCCCC 1 A_JumpIfCloser(60,"Death")
stop
}
}

actor HSHParticleBlow_H1 : BasicHelper
{
translation "192:198=4:4"
Speed 1
States
{
Spawn:
TNT1 A 0 //A_SpawnItemEx("HSHParticleBlow",0,0,0,momx*37,momy*37,momz*37,0,9)
TNT1 A 0 A_SpawnItemEx("HSHParticleBlow",random(-8,8),0,random(-8,8),sqrt(momx*momx+momy*momy)*37+sin(random(0,8))*37,sin(random(-14,14))*37,momz*37+sin(random(-8,8))*37,0,33)
TNT1 A 3
stop
}
}
actor HSHParticleBlow_H2 : HSHParticleBlow_H1
{
States
{
Spawn:
TNT1 A 0
TNT1 AAAA 0 A_SpawnItemEx("HSHParticleBlow",random(-8,8),0,random(-8,8),sqrt(momx*momx+momy*momy)*37+sin(random(0,8))*37,sin(random(-14,14))*37,momz*37+sin(random(-8,8))*37,0,33)
TNT1 A 3
stop
}
}
actor HSHParticleBlow_H3 : HSHParticleBlow_H1
{
States
{
Spawn:
TNT1 A 0
TNT1 AAAA 0 A_SpawnItemEx("HSHParticleBlow2",random(-8,8),0,random(-8,8),sqrt(momx*momx+momy*momy)*37+sin(random(0,8))*37,sin(random(-14,14))*37,momz*37+sin(random(-8,8))*37,0,33)
TNT1 A 3
stop
}
}

actor HSHParticleBlow
{
PROJECTILE
translation "192:198=4:4"
//+NONETID
+CLIENTSIDEONLY
+DONTBLAST
+DONTREFLECT
+DONTSPLASH
+THRUACTORS
Damage (0)
height 4
radius 4
Speed 37
Scale 1.5
States
{
Spawn:
TNT1 AA 1
TMFX DDDDDDDDDDDDD 1
stop
}
}

actor HSHParticleBlow2 : HSHParticleBlow
{//41 175
translation "192:198=4:4"
States
{
Spawn:
TNT1 AA 1
X_2G ABABABA 2
stop
}
}



actor HSHThrust3 : CustomInventory
{
states
{
Pickup://20
TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,"Pickup_R")
TNT1 A 0 A_SetUserVar("user_wepangle", ACS_ExecuteWithResult(812,ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM),angle,3))
TNT1 A 0 A_ChangeVelocity(20*cos(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM)),20*sin(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM)),momz,CVF_REPLACE)
stop
Pickup_R:
TNT1 A 0 A_SetUserVar("user_wepangle", ACS_ExecuteWithResult(812,ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM),angle,5))
TNT1 A 0 A_ChangeVelocity(28*cos(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM)),28*sin(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM)),momz,CVF_REPLACE)
stop
}
}

actor HSHThrust4 : CustomInventory
{
states
{
Pickup:
TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,"Pickup_R")
TNT1 A 0 A_SetUserVar("user_wepangle", ACS_ExecuteWithResult(812,ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM),angle,4))
TNT1 A 0 A_ChangeVelocity(20*cos(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM)),20*sin(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM)),momz,CVF_REPLACE)
stop
Pickup_R:
TNT1 A 0 A_SetUserVar("user_wepangle", ACS_ExecuteWithResult(812,ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM),angle,6))
TNT1 A 0 A_ChangeVelocity(28*cos(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM)),28*sin(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM)),momz,CVF_REPLACE)
stop
}
}

actor TastyPullStock : Inventory
{
inventory.amount 1
inventory.maxamount 99999
}


actor HyperStormHMain_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("HSHBullet",0,0,0,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("HSHBulletB",0,0,0,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("HSHBulletR",0,0,0,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("HSHBulletO",0,0,0,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("HSHBulletP",0,0,0,0)
goto Done
}
}

actor HyperStormHMain2_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("HSHBulletHeat",0,0,0,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("HSHBulletHeatB",0,0,0,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("HSHBulletHeatR",0,0,0,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("HSHBulletHeatO",0,0,0,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("HSHBulletHeatP",0,0,0,0)
goto Done
}
}